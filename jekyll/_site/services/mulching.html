<!DOCTYPE html>
<!--
  Original Design: Spectral by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
  Jekyll build mod
-->
<html>

  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mulch Installation</title>
  <meta name="description" content="Lawncare and Landscaping company
">
  <!--[if lte IE 8]><script src="/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="canonical" href="http://localhost:4000/services/mulching.html">
  <link rel="stylesheet" href="/css/main.css" />
  <!-- <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" /> -->
 
  <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie8.css" /><![endif]-->
  <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie9.css" /><![endif]-->
  <link rel="alternate" type="application/rss+xml" title="Lawntology" href="http://localhost:4000/feed.xml">
</head>


  <body>

    <!-- Page Wrapper -->
    <div id="page-wrapper">

      <!-- Header -->
<header id="header">
  <img src="/images/logo.png" alt="Lawntology logo" />
  <h1><a href="/index.html">Lawntology</a></h1>
  <nav id="nav">
    <ul>
      <li class="special">
        <a href="#menu" class="menuToggle"><span>Menu</span></a>
        <li>
          <a href="/profile/" class="inactive icon fa-user username"
            style="font-size: 10px;letter-spacing: 0.1em;padding: 0em 0.5em; position: relative;">
            <span style="font-size: 10px;letter-spacing: 0.1em;padding: 0em 0.5em; position: absolute; top:0px;">Howdy,</span>
          </a>
        </li>
        <div id="menu">
              <ul class="inactive">
                <li><a href="/dashboard/" > Dashboard </a></li>
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/customers/">Customers</a></li>
                  
                
                  
                
                  
                
                  
                    <li><a href="/estimates/">Estimates</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/invoices/">Invoices</a></li>
                  
                
                  
                
                  
                    <li><a href="/jobs/">Jobs</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/payment/">Payments</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                <li><a href="/profile/" class="icon fa-user username">  </a></li>
                <li class="inactive logout" ><a href="/" class="button small logout" onclick="signout()">Log out</a></li>
              </ul>
              <ul class="loggedin">
                <li><a href="/index.html">Home</a></li>
                
                  
                
                  
                    <li><a href="/about/">About</a></li>
                  
                
                  
                
                  
                    <li><a href="/contact/">Contact Us</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/src/franchise.html">Franchise</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/job-opportunities.html">Job Opportunities</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/login/">Login</a></li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li><a href="/pricing.html">Pricing</a></li>
                  
                
                  
                
                  
                    <li><a href="/register/">Sign Up</a></li>
                  
                
                  
                
                  
                
                  
                
                <li><strong><a href="tel:(314) 325-2466">Hire Us (314) 325-2466</a></strong></li>
              </ul>
                <ul class="services">
                  <dl> <strong> Services </strong></dl>
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                      <li><a href="/services/fertilizer.html">Fertilizer</a></li>
                    
                  
      							
                  
      							
                  
      							
                      <li><a href="/services/hedge-trimming.html">Hedge Trimming</a></li>
                    
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                      <li><a href="/services/lawn-mowing.html">Lawn Mowing</a></li>
                    
                  
      							
                      <li><a href="/services/leaf-removal.html">Leaf Removal</a></li>
                    
                  
      							
                  
      							
                  
      							
                      <li><a href="/services/mulching.html">Mulch Installation</a></li>
                    
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                  
      							
                      <li><a href="/services/yard-waste.html">Clean Up</a></li>
                    
                  
                </ul>
          </ul>
        </div>

      </li>
    </ul>
  </nav>
</header>


      <style>
#main  {
	background-image: -moz-linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("http://lawntology.com/cockpit/storage/uploads/mulch.jpg") !important;
	background-image: -webkit-linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("http://lawntology.com/cockpit/storage/uploads/mulch.jpg") !important;
	background-image: linear-gradient(top, rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("http://lawntology.com/cockpit/storage/uploads/mulch.jpg") !important;
	background-attachment: fixed;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	text-align: center;
}
</style>

<article id="main">

  <header>
    <h2>Mulch Installation</h2>
    <p>Mulch is an easy and inexpensive way to highlight the features of your landscaping.</p>
  </header>

  <section class="wrapper style5">
    <div class="inner">
      <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p&gt; Mulch is an easy and inexpensive way to highlight the features of your landscaping.&lt;/p&gt;
&lt;p&gt;Our double cut dark brown bark mulch is our standard for any flower bed or tree.
	Don't want our standard mulch? We have a variety to choose from.&lt;/p&gt;

	&lt;p&gt;Have outdated mulch or need new mulch installed? Give us a call and let us spruce up your landscaping by giving you a fresh look.&lt;/p&gt;
</code></pre></div></div>

    </div>
  </section>

	<section class="wrapper style5">
    <div class="inner">
       <p class="button"> Call us Today: <a href="tel:(314) 325-2466">(314) 325-2466</a></p>
    </div>
  </section>


</article>


      <!-- Footer -->
<footer id="footer">
  <ul class="icons">
    
    
    
    <li><a target="_blank" href="https://twitter.com/<lawntology>" class="icon fa-twitter"
           ><span class="label">twitter</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="https://github.com/<lawntology>" class="icon fa-github"
           ><span class="label">github</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="https://linkedin.com/in/<username>" class="icon fa-linkedin-square"
           ><span class="label">linkedin-square</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="https://facebook.com/<lawntology>" class="icon fa-facebook-official"
           ><span class="label">facebook-official</span></a></li>
    
    
    
    
    
    <li><a target="_blank" href="https://plus.google.com/u/0/+<lawntology>" class="icon fa-google-plus-square"
           ><span class="label">google-plus-square</span></a></li>
    
    
    
  </ul>
  <ul class="copyright">
    <li>&copy; 
    
      
      
    
    2019
    Lawntology</li>
    <!-- <li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
    <li>Built with: <a href="http://jekyllrb.com" target="_blank">Jekyll</a></li> -->
  </ul>
</footer>


      <!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>
<script src="/js/Chart.bundle.min.js "></script> 
<script type="module" src="/js/lit-vars.js "></script>  



<!-- <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>


<script type="module">  
 import {html, render} from '/js/lit-html/lit-html.js';
    
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAs3no8sd6LREiM2-A66aXgF2TQOjKsHvw",
    authDomain: "lawntology-3aed2.firebaseapp.com",
    databaseURL: "https://lawntology-3aed2.firebaseio.com",
    projectId: "lawntology-3aed2",
    storageBucket: "lawntology-3aed2.appspot.com",
    messagingSenderId: "1019504943486"
  };
  firebase.initializeApp(config);

  /**
    * Handles the sign in button press.
    */
   function toggleSignIn() {
     if (firebase.auth().currentUser) {
       // [START signout]
       firebase.auth().signOut();
       // [END signout]
     } else {
       var email = document.querySelector('#email').value;
       var password = document.querySelector('#password').value;
       if (email.length < 4) {
         alert('Please enter an email address.');
         return;
       }
       if (password.length < 4) {
         alert('Please enter a password.');
         return;
       }
       // Sign in with email and pass.
       // [START authwithemail]
       firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
         // Handle Errors here.
         var errorCode = error.code;
         var errorMessage = error.message;
         // [START_EXCLUDE]
         if (errorCode === 'auth/wrong-password') {
           alert('Wrong password.');
         } else {
           alert(errorMessage);
         }
         console.log(error);
         document.querySelector('#quickstart-sign-in').disabled = false;
         // [END_EXCLUDE]
       });
       // [END authwithemail]
     }
     document.querySelector('#quickstart-sign-in').disabled = true;
   }
   /**
    * Handles the sign up button press.
    */
   function handleSignUp() {
     var email = document.querySelector('#email').value;
     var password = document.querySelector('#password').value;
     if (email.length < 4) {
       alert('Please enter an email address.');
       return;
     }
     if (password.length < 4) {
       alert('Please enter a password.');
       return;
     }
     // Sign in with email and pass.
     // [START createwithemail]
     firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
       // Handle Errors here.
       var errorCode = error.code;
       var errorMessage = error.message;
       // [START_EXCLUDE]
       if (errorCode == 'auth/weak-password') {
         alert('The password is too weak.');
       } else {
         alert(errorMessage);
       }
       console.log(error);
       // [END_EXCLUDE]
     });
     // [END createwithemail]
   }
   /**
    * Sends an email verification to the user.
    */
   function sendEmailVerification() {
     // [START sendemailverification]
     firebase.auth().currentUser.sendEmailVerification().then(function() {
       // Email Verification sent!
       // [START_EXCLUDE]
       alert('Email Verification Sent!');
       // [END_EXCLUDE]
     });
     // [END sendemailverification]
   }
   function sendPasswordReset() {
     var email = document.querySelector('#email').value;
     // [START sendpasswordemail]
     firebase.auth().sendPasswordResetEmail(email).then(function() {
       // Password Reset Email Sent!
       // [START_EXCLUDE]
       alert('Password Reset Email Sent!');
       // [END_EXCLUDE]
     }).catch(function(error) {
       // Handle Errors here.
       var errorCode = error.code;
       var errorMessage = error.message;
       // [START_EXCLUDE]
       if (errorCode == 'auth/invalid-email') {
         alert(errorMessage);
       } else if (errorCode == 'auth/user-not-found') {
         alert(errorMessage);
       }
       console.log(error);
       // [END_EXCLUDE]
     });
     // [END sendpasswordemail];
   }
   /**
    * initApp handles setting up UI event listeners and registering Firebase auth listeners:
    *  - firebase.auth().onAuthStateChanged: This listener is called when the user is signed in or
    *    out, and that is where we update the UI.
    */
   function initApp() {
     // Listening for auth state changes.
     // [START authstatelistener]
     firebase.auth().onAuthStateChanged(function(user) {
       // [START_EXCLUDE silent]
       // document.querySelector('#quickstart-verify-email').disabled = true;
       // [END_EXCLUDE]
       if (user) {
         // User is signed in.
         var displayName = user.displayName;
         var email = user.email;
         var emailVerified = user.emailVerified;
         var photoURL = user.photoURL;
         var isAnonymous = user.isAnonymous;
         var uid = user.uid;
         var providerData = user.providerData;

         console.log(email);
          loggedin(user);
         // [START_EXCLUDE]
         // document.querySelector('#quickstart-sign-in-status').textContent = 'Signed in';
         // document.querySelector('#quickstart-account-details').textContent = JSON.stringify(user, null, '  ');
         // if (!emailVerified) {
         //   document.querySelector('#quickstart-verify-email').disabled = false;
         // }
         // [END_EXCLUDE]
       } else {
         // User is signed out.
         console.log("No user is signed in.");
         // [START_EXCLUDE]
         // document.querySelector('#quickstart-sign-in-status').textContent = 'Signed out';
         // document.querySelector('#quickstart-sign-in').textContent = 'Sign in';
         // document.querySelector('#quickstart-account-details').textContent = 'null';
         // [END_EXCLUDE]
       }
       // [START_EXCLUDE silent]
       // document.querySelector('#quickstart-sign-in').disabled = false;
       // [END_EXCLUDE]
     });
     // [END authstatelistener]
     // document.querySelector('#quickstart-sign-in').addEventListener('click', toggleSignIn, false);
     // document.querySelector('#quickstart-sign-up').addEventListener('click', handleSignUp, false);
     // document.querySelector('#quickstart-verify-email').addEventListener('click', sendEmailVerification, false);
     // document.querySelector('#quickstart-password-reset').addEventListener('click', sendPasswordReset, false);
   }
   $( document ).ready(function() {
     initApp();
   });


   function loggedin(user){
     $('.inactive').addClass('active');
     $('.loggedin').addClass('inactive');
     $('.services').addClass('inactive');
     $('.username').text(user.email);

     dashboardChart();
     var imageUrl = '';
     var userId = firebase.auth().currentUser.uid;
     var userDB = firebase.database().ref('users/' + userId);
     var all;

     userDB.once("value")
     .then(function(snapshot) {
       var a = snapshot.exists();  // true
       var all = snapshot.val(); // all
       var b = snapshot.child("name").val(); // true
       var c = snapshot.child("address").val(); // true
       var d = snapshot.child("phone").val(); // false
       console.log(all);
       console.log(a, b, c, d);
       //Profile Firebase Values
       $('.profile-name').prop("value", all.name);
       $('.profile-phone').prop("value", all.phone);
       $('.profile-address').prop("value", all.address);
       $('.profile-email').prop("value", all.email);
     });
     console.log('userid ' + userId);
     console.log('userdb ' + userDB);


    // lit-templates
        userDB.once("value")
         .then(function(snapshot) {
           var a = snapshot.exists();  // true
           var all = snapshot.val(); // all
           var b = snapshot.child("name").val(); // true
           var c = snapshot.child("address").val(); // true
           var d = snapshot.child("phone").val(); // false
           console.log(all);
           console.log(a, b, c, d);

           //Profile Firebase Values
           $('.profile-name').prop("value", all.name);
           $('.profile-phone').prop("value", all.phone);
           $('.profile-address').prop("value", all.address);
           $('.profile-email').prop("value", all.email);
         });
           var d = all; 
    
           let listener = {
              handleEvent(e) { 
                var d = {address: 'click that shit'};  
                const result = myTemplate(d);
                 render(result, el);
                 console.log(d);
              } 
            }; 
            console.log(d);


            // Declare a template
            let myTemplate = (d) => html` 
                <button @click=${listener}>Click Me!</button>  
                <span> ${d.address} </span>
            `;   
         
            let el = document.querySelector('#box'); 
         

         // Render the template  
            const result = myTemplate(d);
            render(result, el);

    // lit-html ends


    firebase.database().ref('users/' + userId).update({
        username: user.displayName,
        email: user.email,
        profile_picture : imageUrl,
        stripe: {
          invoices: '',
          estimates: '',
          payments: ''
        }
    }, function(error) {
      if (error) { console.log(error); } else { console.log('saved user data'); }
    });

    // fetch('http://127.0.0.1:3000/users/is-customer/' + user.email)
    //   .then(function(data) {
    //     return data.json();
    //     console.log(data);
    //     firebase.database().ref('users/' + userId + '/stripe').update({
    //         id: data,
    //         hasStripe: true
    //     }, function(error) {
    //       if (error) { console.log(error); } else {
    //         console.log('saved user data');
    //     }
    //     });
    //   })
    //   .catch(function(error) {
    //     console.log(JSON.stringify(error));
    //   });

    function checkStripe(){
      fetch('http://127.0.0.1:3000/users/is-customer/' + user.email)
        .then(function(data) {
          return data.json();
          console.log(data);
          firebase.database().ref('users/' + userId + '/stripe').update({
              id: data,
              hasStripe: true
          }, function(error) {
            if (error) { console.log(error); } else {
              console.log('saved user data');
          }
          });
        })
        .catch(function(error) {
          console.log(JSON.stringify(error));
        });

       // $.ajax({
       //     url: 'http://127.0.0.1:3000/users/is-customer/' + user.email,
       //     type: 'GET',
       //     success: function(data) {
       //       console.log(data);
       //       firebase.database().ref('users/' + userId + '/stripe').update({
       //           id: data,
       //           hasStripe: true
       //       }, function(error) {
       //         if (error) { console.log(error); } else {
       //           console.log('saved user data');
       //       }
       //       });
       //     },
       //     error: function(jqXHR, textStatus, errorThrown) { console.log('No stripe customer found.');   }
       // });
    }
    checkStripe();

    function getStripeCustomerInvoices(){
      var userId = firebase.auth().currentUser.uid;
      var database = firebase.database();
      var stripeId = firebase.database().ref('users/' + userId );
      console.log(stripeId);
      // stripeId.on('value', function(snapshot) {
      //   console.log(snapshot);
      //    console.log(stripeId);
      //    $.ajax({
      //        url: 'http://127.0.0.1:3000/users/get-invoices/' + stripeId,
      //        type: 'GET',
      //        success: function(data) {
      //          console.log(data);
      //          firebase.database().ref('users/' + userId +'/stripe/').update({
      //               invoices: data
      //             }, function(error) {
      //               if (error) { console.log(error); } else {  console.log('saved user data ---');
      //               }
      //             });
      //        },
      //        error: function(jqXHR, textStatus, errorThrown) { console.log('No stripe customer found.');   }
      //    });
      // });
    }
    // setTimeout(function () {
    //     getStripeCustomerInvoices();
    // }, 3000);

    function createStripeCustomer(){
         $.ajax({
             url: 'http://127.0.0.1:3000/users/create-customer/' + user.email,
             type: 'GET',
             success: function(data) {
               console.log(data);
               firebase.database().ref('users/' + userId).update({
                    stripe: data
                  }, function(error) {
                    if (error) { console.log(error); } else {  console.log('saved user data');
                    }
                  });
             },
             error: function(jqXHR, textStatus, errorThrown) { console.log('No stripe customer found.');   }
         });
    }


   }

   //form check
   $("input").on("blur", function(e) {
      console.log('input blurred');
      //login validation
      var login_email = $('.login #email').value;
      var login_password = $('.login #password').value;
      // Sign up validation
      var signup_email = $('.signup #email').value;
      var signup_password = $('.signup #password').value;
      var signup_repassword = $('.signup #repassword').value;

      console.log(login_email + '   ' + login_password );

      if(login_email !== null & login_password !== null){
        $('.login-btn').prop("disabled", false);
      }
      console.log(signup_email + '   ' + signup_password + '  ' + signup_repassword );
      //signup validation
      if(signup_email !== null & signup_password !== null & signup_repassword !== null){
          $('.signup-btn').prop("disabled", false);
      }
   });


  function signin(){
     var email = document.querySelector('#email').value;
     var password = document.querySelector('#password').value;

     console.log(email);
     console.log(password);

      firebase.auth().signInWithEmailAndPassword(email, password).then(function() {
        // Sign-in successful.
        console.log("signed into firebase.");
        window.location = "/dashboard/";
        }).catch(function(error) {
       // Handle Errors here.
       var errorCode = error.code;
       var errorMessage = error.message;
       if (errorCode === 'auth/wrong-password') {
         alert('Wrong password.');
       } else {
         alert(errorMessage);
       }
       console.log(error);
     });
     var userinfo = firebase.UserInfo;
     console.log(userinfo);
  }
  function signout(){
    firebase.auth().signOut().then(function() {
      // Sign-out successful.
      console.log("signed out of firebase.");
      }).catch(function(error) {
      // An error happened.
      });
  }
  function signup(){
     var email = document.querySelector('#email').value;
     var password = document.querySelector('#password').value;
     var repassword = document.querySelector('#repassword').value;

     console.log(email);
     console.log(password);

     firebase.auth().createUserWithEmailAndPassword(email, password).then(function() {
       // Sign-up successful.
       console.log("signed up for firebase.");
          window.location = "/dashboard/";
          var userinfo = firebase.UserInfo;
          console.log(userinfo);
       }).catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          if (errorCode == 'auth/weak-password') {
            alert('The password is too weak.');
          } else {
            alert(errorMessage);
          }
          console.log(error);
        });
    }

//chart-js
function dashboardChart(){
  var profileSnapshot = document.getElementById("profile-snapshot");
  if( profileSnapshot !== null){
    var ctx = profileSnapshot.getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ["Estimates", "Invoices", "Payments", "Past Due"],
            datasets: [{
                label: '$ in USD',
                data: [12, 19, 3, 5, 2, 3],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 0
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }
        }
    });
  }

}

     
   
 
</script>


  






    </div>

  </body>

</html>